'.+':
   common:
   ops:
   nrpe:
   sunet::updater:
      cron: true
      cosmos_automatic_reboot: true
   sunet::server:
      fail2ban: true
      unattended_upgrades: true
      disable_ipv6_privacy: true
      disable_all_local_users: true
      ssh_allow_from_anywhere: false
   entropyclient:
   infra_ca_rp:
   mailclient:
      domain: sunet.se
   sunet::rsyslog:
   update_ca_certificates:

'^md-[0-9]+\.thiss\.io$':
   sunet_iaas_cloud:
   thiss::dockerhost:
   thiss::mdq:
      version: 1.1.2
      src: https://a-1.thiss.io/metadata.json
      base_url: https://md.thiss.io
   https:
   http:

'^a-[0-9]+\.thiss\.io$':
   sunet_iaas_cloud:
   thiss::dockerhost:
   thiss::pyff:
      pyff_version: 1.0.1
      output: /var/www/html/metadata.json
   thiss::md_publisher:
      watch: /var/www/html/metadata.json
   https:

'^\S+ntx\S+\.seamlessaccess\.org$':
   thiss::firewall_rules:
      location: ntx

'^\S+se-east\S+\.seamlessaccess\.org$':
   sunet_iaas_cloud:
   thiss::firewall_rules:
      location: se-east

'^md-[0-9]\.ntx+\S+\.seamlessaccess\.org$':
   thiss::dockerhost:
   thiss::mdq:
      version: 1.1.2
      src: https://meta.ntx.sunet.eu.seamlessaccess.org/metadata.json
      base_url: https://md.seamlessaccess.org

'^md-[0-9]\.se-east+\S+\.seamlessaccess\.org$':
   thiss::dockerhost:
   thiss::mdq:
      version: 1.1.2
      src: https://meta.se-east.sunet.eu.seamlessaccess.org/metadata.json
      base_url: https://md.seamlessaccess.org

'^meta\D+\.seamlessaccess\.org$':
   thiss::dockerhost:
   thiss::pyff:
      pyff_version: 1.0.1
      output: /var/www/html/metadata.json
   thiss::md_publisher:
      watch: /var/www/html/metadata.json

''^md\D+\.seamlessaccess\.org$':
   thiss::dockerhost:
   thiss::haproxy:
      location: se-east
